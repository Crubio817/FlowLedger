@tailwind base;
@tailwind components;
@tailwind utilities;

/* Remove default browser margins and ensure full coverage */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  margin: 0 !important;
  padding: 0 !important;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
}

#root {
  width: 100%;
  height: 100%;
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure modals cover everything */
.modal-backdrop {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Print styles for clean output */
@media print {
  .print\:hidden { display: none !important; }
  .print\:p-0 { padding: 0 !important; }
  .print\:mb-2 { margin-bottom: 0.5rem !important; }
  .print\:bg-white { background: #fff !important; }
  .print\:text-black { color: #000 !important; }
  .print\:shadow-none { box-shadow: none !important; }
  .print\:border-0 { border: 0 !important; }
}

:root {
  /* Legacy accent tokens retained (may be remapped) */
  --blue-900: #0F172A;
  --blue-800: #111827;
  /* Brand accent */
  --accent-brand: #4997D0;
  /* Raiders-inspired neutrals */
  --silver-100: #f5f6f7;
  --silver-150: #eceeef;
  --silver-200: #e2e4e6;
  --silver-300: #cfd2d5;
  --silver-400: #b9bcc0;
  --silver-500: #a3a7ab;
  --silver-600: #8c9094;
  --silver-700: #717579;
  --silver-800: #56595d;
  --silver-900: #3d3f42;
  --silver-950: #262729;
  /* Map existing accent vars to neutral metallics */
  --accent-mint: #c7cace; /* primary metallic accent */
  --accent-amber: #8c9094; /* secondary neutral */
  --accent-cyan: #d9dcdf; /* light highlight */
  --accent-lime: #d1d3d6; /* used as active accent */
  /* Raiders brand colors */
  --raiders-black: #000000;
  --raiders-silver: #7f8487; /* darker silver per request */
  /* Black variants */
  --black-matte: #060607; /* deep matte black */
  --black-glass: rgba(10,10,10,0.56); /* translucent glass base */
}

/* Dark app theme inspired dashboard */
body.theme-dark {
  --surface-0: #0b0c0d; /* page */
  --surface-1: #161716; /* nav (updated to requested #161716) */
  --surface-2: #181a1c; /* card */
  --surface-3: #202225; /* hover */
  --border-subtle: #2a2c2f;
  --border-strong: #34363a;
  --text-1: #f5f6f7;
  --text-2: #9ba0a6;
  --accent-active: var(--accent-brand);
  background: var(--surface-0);
  color: var(--text-1);
  font-feature-settings: "ss01" on, "cv02" on;
}
body.theme-dark.accent-amber { --accent-active: var(--accent-amber); }
body.theme-dark.accent-mint { --accent-active: var(--accent-mint); }
body.theme-dark.accent-lime { --accent-active: var(--accent-lime); }

body.theme-light {
  --surface-0: var(--silver-100);
  --surface-1: #ffffff;
  --surface-2: #ffffff;
  --surface-3: var(--silver-150);
  --border-subtle: var(--silver-300);
  --border-strong: var(--silver-400);
  --text-1: #181a1c;
  --text-2: #5d6166;
  --accent-active: var(--accent-brand);
  background: var(--surface-0);
  color: var(--text-1);
}
body.theme-light.accent-amber { --accent-active: var(--accent-amber); }
body.theme-light.accent-mint { --accent-active: var(--accent-mint); }
body.theme-light.accent-lime { --accent-active: var(--accent-lime); }

/* Side navigation */
.sidenav {
  width: 280px;
  flex-shrink: 0;
  /* use the theme nav surface color */
  background: var(--surface-1);
  border-right: 1px solid rgba(0,0,0,0.18);
  display: flex;
  flex-direction: column;
  padding: 1rem 0.75rem 1rem 0.75rem;
  gap: 1.25rem;
  color: #f5f6f7;
  position: relative; /* anchor floating controls and pseudo elements */
  min-height: 100vh; 
  height: 100vh;
  overflow-y: auto;
}
.sidenav.collapsed { width: 80px; }
.sidenav.collapsed .logo-row span:last-child,
.sidenav.collapsed a span.label-text,
.sidenav.collapsed .footer-text { display:none; }
.sidenav a svg { flex-shrink:0; opacity:.98; width:24px; height:24px; }
.sidenav a { line-height:1.1; }
.sidenav.collapsed a { justify-content:center; padding: .5rem 0; }
.collapse-btn {
  width: 36px;
  height: 36px;
  padding: 4px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:9999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  color: #f5f6f7; cursor: pointer;
}
.collapse-btn:hover { background: rgba(255,255,255,0.10); }
.sidenav.collapsed .collapse-btn { width: 36px; height: 36px; }
.sidenav.collapsed .collapse-btn span { display: inline-flex; }

/* collapsed: center logo and hide headings/footer text */
.sidenav.collapsed .logo-row { justify-content:center; padding-left: 0; }
.sidenav.collapsed .nav-heading { display: none; }
.sidenav.collapsed .footer-bar .meta { display: none; }

/* slim rail: compact icon-only collapsed state */
.sidenav.collapsed a svg { width:24px; height:24px; transition: transform .12s; }
.sidenav.collapsed a.active { background: transparent; }
.sidenav.collapsed a.active svg { background: transparent; }
.sidenav.collapsed a:hover svg { transform: translateX(2px); }
body.theme-dark .sidenav.collapsed a:hover svg { background: rgba(255,255,255,0.08); }

/* reduce spacing in collapsed mode */
.sidenav.collapsed .nav-section { gap: 12px; padding: .75rem 0; }

/* visually pull button out of nav so it floats on the edge */
.sidenav .nav-section > .collapse-btn { margin-right: 0; margin-left: 0; }
.icon-btn { width:46px; height:46px; background: transparent; border: none; padding: 0; display:inline-flex; align-items:center; justify-content:center; color: #555; border-radius:9999px; cursor:pointer; }
.icon-btn:hover { background: rgba(255,255,255,0.06); color: #AAA; }
.icon-btn.active { background: transparent; color: var(--accent-active); }
.icon-btn.active svg { color: inherit; }
.sidenav .meta { margin-top:auto; padding:0 .5rem; }
.sidenav .nav-section { padding: 0 0.5rem; display: flex; flex-direction: column; gap: 8px; }
.sidenav .nav-heading { font-size: 11px; text-transform: uppercase; color: rgba(0,0,0,0.6); padding: .25rem .75rem; letter-spacing: .6px; }
.sidenav .nav-section + .nav-section { border-top: 1px solid rgba(0,0,0,0.06); padding-top: .6rem; }
.sidenav a { display:flex; align-items:center; gap:.8rem; font-size:15px; font-weight:600; padding:.8rem .9rem; border-radius:12px; color: #555; position:relative; transition: background-color .18s, color .18s, box-shadow .18s; }
/* theme-specific corrections: ensure sidenav is readable in dark mode */
/* Keep sidenav text black for strong readability like the provided screenshot */
.sidenav a:hover { background: #1E1E1E; color: #AAA; }
.sidenav a.active { background: transparent; color: var(--accent-active); box-shadow: inset 3px 0 0 0 var(--accent-active); }
.sidenav a:focus-visible { outline: 0; box-shadow: 0 0 0 2px var(--accent-active); }
/* keep existing light theme behavior but make explicit */
/* Ensure light-theme class still renders the same (we removed light mode control) */
body.theme-light .sidenav { background: var(--raiders-silver); color: #0b0b0b; }
body.theme-light .sidenav a { color: #555; }
body.theme-light .sidenav a:hover { background: rgba(0,0,0,0.06); color: #888; }
body.theme-light .sidenav a.active { background: rgba(0,0,0,0.02); color: var(--accent-active); box-shadow: inset 3px 0 0 0 var(--accent-active); }

/* Accent interactive */
button.accent, .accent-btn {
  background: var(--accent-active);
  color: #fff;
  font-weight: 700;
  font-size: 13px;
  padding: .55rem .85rem;
  border-radius: 8px;
  border: none;
  box-shadow: 0 6px 14px rgba(0,0,0,0.25), 0 1px 0 rgba(255,255,255,0.03) inset;
  transition: transform .08s ease, box-shadow .12s ease, filter .08s ease;
}
.accent-btn:hover { transform: translateY(-1px); filter: brightness(0.98); }
.accent-btn:active { transform: translateY(0); }
.accent-btn:disabled { opacity: .56; cursor: not-allowed; transform: none; box-shadow: none; }

/* theme-aware foreground for good contrast */
body.theme-dark .accent-btn { color: #000; }
body.theme-light .accent-btn { color: #fff; }

/* focus ring */
.accent-btn:focus-visible { outline: 3px solid color-mix(in srgb, var(--accent-active) 60%, black 40%); outline-offset: 3px; }

/* Scroll area tweak */
.app-shell { 
  display: flex; 
  min-height: 100vh; 
  max-width: 100vw; 
  overflow-x: hidden; 
  background: var(--surface-0); 
}
.workspace { 
  flex: 1; 
  display: flex; 
  flex-direction: column; 
  position: relative; 
  min-width: 0; 
  /* Allow children (like full-bleed headers) to extend to viewport edges */
  overflow-x: visible; 
}
/* Subtle backlight behind the main workspace to add depth on wide screens.
   Display only in dark theme to avoid washing out light-themed surfaces. It's
   non-interactive (pointer-events:none) and sized large with heavy blur so it
   reads as environmental lighting rather than a UI element. */
body.theme-dark .workspace::before {
  /* Completely disable this background element */
  display: none;
}
/* Make sure the workspace content stays above the background glow */
.workspace > * { position: relative; z-index: 1; }

/* Dark-mode elevation: give the left nav a subtle shadow to the right so it reads as elevated,
   and add a faint left-edge highlight on the workspace to emphasize separation. */
body.theme-dark .sidenav {
  /* no glow/shadow: keep flat matte look */
  box-shadow: none;
  /* lower the sidenav stacking so overlays (modals/popovers) are above it */
  z-index: 10;
  position: relative;
}
body.theme-dark .workspace::before {
  /* Completely disable both background elements */
  display: none;
}

/* Slightly reduce the inset divider so the shadow reads more naturally */
body.theme-dark .sidenav::after { background: rgba(255,255,255,0.02); }

/* Divider line between sidenav and workspace - matte vs glass vibes */
/* Simplified single divider line */
.sidenav::before {
  content: "";
  position: absolute;
  top: 0; right: 0; bottom: 0;
  width: 1px;
  pointer-events: none;
  background: rgba(255,255,255,0.1); /* subtle light edge */
  z-index: 9;
}

/* Remove the problematic second divider that might cause the black line */
.sidenav::after {
  display: none;
}

/* rail-pulse animation removed to disable sidebar glow */

/* Glass vibe: translucent sidebar with blur and a soft luminous divider */
body.vibe-glass .sidenav {
  background: var(--black-glass);
  backdrop-filter: blur(6px) saturate(1.05);
  border-right: 1px solid rgba(255,255,255,0.04);
}
/* Removed solid background - keep grid lines only */
body.vibe-glass .sidenav::after { background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); width: 2px; box-shadow: 0 0 18px rgba(255,255,255,0.02); }

/* Matte vibe: deep flat blacks and a subtle etched divider */
body.vibe-matte .sidenav { background: var(--black-matte); }
/* Removed solid background - keep grid lines only */
body.vibe-matte .sidenav::after { background: rgba(255,255,255,0.015); width: 1px; box-shadow: none; }

/* No workspace gradient: keep flat background for clarity per request */
.workspace-main { 
  /* expose top padding as a CSS var so headers can bleed to the very top */
  --workspace-top-pad: 1.75rem;
  --workspace-pad-x: 2rem; /* horizontal padding used by workspace */
  flex: 1; 
  padding: var(--workspace-top-pad) var(--workspace-pad-x) 3rem; 
  max-width: 1920px; 
  width: 100%; 
  margin: 0 auto; 
  min-width: 0;
  /* Don’t clip full-bleed headers; sections that need scrolling should use
    their own overflow containers (e.g., overflow-x-auto on tables) */
  overflow-x: visible;
}
@media (min-width: 2200px) {
  .workspace-main { max-width: 2200px; }
}

/* Panel and utility styles */
.panel { @apply rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md shadow-soft relative; }

/* Standard content container - semi-transparent with grid showing through */
.content-container {
  background: rgba(24, 24, 27, 0.3); /* zinc-900/30 */
  backdrop-filter: blur(8px);
  border: 1px solid rgba(39, 39, 42, 0.5); /* zinc-800/50 */
  border-radius: 0.5rem; /* rounded-lg */
}

/* Table container variant */
.table-container {
  background: rgba(24, 24, 27, 0.3); /* zinc-900/30 */
  backdrop-filter: blur(8px);
  border: 1px solid rgba(39, 39, 42, 0.5); /* zinc-800/50 */
  border-radius: 0.5rem; /* rounded-lg */
  overflow: hidden;
}

/* Card container variant */
.card-container {
  background: rgba(24, 24, 27, 0.2); /* zinc-900/20 */
  backdrop-filter: blur(4px);
  border: 1px solid rgba(39, 39, 42, 0.3); /* zinc-800/30 */
  border-radius: 0.75rem; /* rounded-xl */
  padding: 1.5rem; /* p-6 */
}
.panel::before {
  /* simplified: use a subtle inset stroke instead of a mask/xor composite which
     can create circular/magnifier effects in some browsers. This keeps the
     decorative inner stroke but avoids complex mask rendering. */
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.01));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.04);
}
.panel.neon {
  box-shadow: 0 0 0 1px rgba(255,255,255,0.08), 0 0 24px rgba(127,132,135,0.25);
}

.btn-glow {
  @apply rounded-full px-4 py-2 text-sm font-semibold border border-white/15 bg-white/5 hover:bg-white/10 transition-colors;
  box-shadow: 0 0 0 1px rgba(255,255,255,0.06), 0 0 16px rgba(127,132,135,0.35);
}

.divider-thin { @apply border-t border-white/10; }
.label { @apply uppercase tracking-wider text-[11px] text-white/60; }

/* Circular gauge primitive */
.gauge {
  --val: 53; /* 0-100 */
  --accent: var(--accent-mint);
  width: 120px; height: 120px; border-radius: 9999px; position: relative;
  background:
    conic-gradient(var(--accent) calc(var(--val) * 1%), rgba(255,255,255,0.07) 0);
  -webkit-mask:
    radial-gradient(farthest-side, transparent 64%, #000 65%);
          mask:
    radial-gradient(farthest-side, transparent 64%, #000 65%);
  box-shadow: 0 0 24px rgba(127,132,135,0.35);
}
.gauge::after{
  content: attr(data-value) '%';
  position: absolute; inset: 0;
  display: grid; place-items: center;
  color: white; font-weight: 700; font-size: 24px;
}

body.accent-amber {
  --accent-mint: var(--accent-amber);
}

/* focus-ring utility removed — use standard :focus-visible rules where needed */

/* Modal footer and CTA styles */
.modal-footer {
  position: sticky;
  bottom: 0;
  background: transparent;
  padding: 12px;
  border-top: 1px solid rgba(255,255,255,0.04);
}
.btn-cancel {
  padding: .45rem .75rem;
  border-radius: .375rem;
  background: rgba(255,255,255,0.03);
  color: var(--text-2);
  font-size: 0.9rem;
  transition: background .12s, color .12s;
}
.btn-cancel:hover { background: rgba(255,255,255,0.05); color: var(--text-1); }
.btn-create {
  padding: .5rem 1rem;
  border-radius: .375rem;
  background: var(--silver-700);
  color: #fff;
  font-weight: 700;
  box-shadow: 0 8px 20px rgba(0,0,0,0.45);
  transition: background .12s, transform .08s, box-shadow .12s;
}
.btn-create:hover { background: var(--silver-800); transform: translateY(-1px); }

/* Futuristic background layers */
.bg-space {
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(217,220,223,0.06), transparent 50%),
  radial-gradient(900px 500px at 90% 0%, rgba(127,132,135,0.08), transparent 40%),
    linear-gradient(180deg, #0B1220 0%, #0F172A 100%);
}
.bg-grid {
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.13) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.13) 1px, transparent 1px);
  background-size: 40px 40px;
}
.bg-noise {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.06"/></svg>');
  background-size: 300px 300px;
}

/* --- Glow and sweep effects --- */
/* Card Halo: subtle radial accent behind cards (dark theme only) */
.card::before {
  content: "";
  position: absolute;
  inset: -18px -24px -18px -24px;
  pointer-events: none;
  z-index: 0;
  border-radius: 14px;
  background: radial-gradient(closest-side, color-mix(in srgb, var(--accent-active) 10%, transparent 90%), transparent 60%);
  filter: blur(28px) saturate(1.05);
  opacity: 0.9;
}
/* Ensure card content sits above halo */
.card > * { position: relative; z-index: 1; }

/* Remove card halo entirely to keep a flatter look */
.card::before { display: none !important; }

/* Row Hover Glow - faint ambient glow when hovering a row */
.table-modern tbody tr { transition: box-shadow .18s ease, transform .08s ease; }
.table-modern tbody tr:hover { box-shadow: none !important; transform: none !important; }

/* --- Sweep Header (animated light sweep) --- */
.sweep-header {
  position: relative;
  /* adjustable spacing via CSS variables */
  padding: var(--header-py, 60px) var(--header-px, 40px);
  background: #0a0a0a;
  border-bottom: 1px solid rgba(255, 255, 255, var(--header-divider-opacity, 0.1));
  overflow: hidden;
}
.sweep-header::before {
  content: '';
  /* When used with .full-bleed, this pseudo element will be positioned
     fixed and sized to the header bounds using CSS custom properties set
     by the React component. This makes the decorative sweep always
     reach the viewport edges regardless of layout or sidebars. */
  position: absolute;
  top: -50%;
  left: -100%;
  width: 200%;
  height: 200%;
  background: linear-gradient(90deg,
    transparent,
    rgba(0, 212, 255, 0.08),
    rgba(102, 126, 234, 0.12),
    rgba(0, 212, 255, 0.08),
    transparent
  );
  animation: header-sweep 8s linear infinite;
  pointer-events: none;
}
@keyframes header-sweep {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
.sweep-header .accent-line {
  height: 3px;
  width: 60px;
  background: linear-gradient(90deg, #00d4ff, #667eea);
  border-radius: 2px;
}

/* --- Transparent Aurora Header (skewed sweep + aurora blobs) --- */
.aurora-header {
  position: relative;
  /* adjustable spacing via CSS variables - slightly increased for better balance */
  padding: var(--header-py, 36px) var(--header-px, 40px);
  background: transparent;
  border-bottom: 1px solid rgba(255, 255, 255, var(--header-divider-opacity, 0.1));
  overflow: hidden;
  width: 100%;
  max-width: 100vw;
  box-sizing: border-box;
}
.aurora-header::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -100%;
  width: 200%;
  height: 200%;
  background: linear-gradient(90deg,
    transparent,
    transparent,
    var(--sweep-color, rgba(0, 212, 255, 0.15)),
    transparent,
    transparent
  );
  animation: header-sweep-aurora 6s ease-in-out infinite;
  pointer-events: none;
  transform: skewX(-25deg);
}
@keyframes header-sweep-aurora {
  0% { transform: translateX(-100%) skewX(-25deg); }
  100% { transform: translateX(100%) skewX(-25deg); }
}

/* Aurora blob layers */
.aurora { position: absolute; width: 150%; height: 150%; top: -25%; left: var(--aurora-offset, -25%); }
.aurora-1 {
  background: radial-gradient(ellipse at center, var(--aurora1, rgba(120, 119, 198, 0.08)), transparent 40%);
  filter: blur(40px);
  animation: aurora-drift 20s ease-in-out infinite;
}
.aurora-2 {
  background: radial-gradient(ellipse at center, var(--aurora2, rgba(0, 212, 255, 0.06)), transparent 45%);
  filter: blur(60px);
  animation: aurora-drift 25s ease-in-out infinite reverse;
}
@keyframes aurora-drift {
  0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
  25% { transform: translate(-10%, 10%) scale(1.2) rotate(45deg); }
  50% { transform: translate(10%, -5%) scale(0.9) rotate(90deg); }
  75% { transform: translate(-5%, -10%) scale(1.1) rotate(180deg); }
}

/* Title subtle glow */
.aurora-title {
  animation: subtle-glow 6s ease-in-out infinite;
}
@keyframes subtle-glow {
  0%, 100% { filter: drop-shadow(0 0 20px rgba(120, 119, 198, 0.2)); }
  50% { filter: drop-shadow(0 0 30px rgba(0, 212, 255, 0.3)); }
}

/* Shimmering accent line variant */
.accent-line--shimmer { position: relative; overflow: hidden; }
.accent-line--shimmer::after {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: accent-shimmer 3s infinite;
}
@keyframes accent-shimmer {
  0% { left: -100%; }
  100% { left: 200%; }
}

/* Full-bleed utility: align to viewport edges by offsetting the element left by
   the reserved rail (spacer) width plus the workspace's horizontal padding. */
.full-bleed {
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  width: 100vw;
  max-width: 100vw;
  box-sizing: border-box;
}

/* Enhanced full-bleed for aurora headers to ensure complete screen coverage */
.aurora-header.full-bleed {
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  width: 100vw !important;
  max-width: 100vw !important;
  box-sizing: border-box;
  min-width: 100vw;
}

/* Full-bleed decorative elements use the CSS offset approach so the header
  background and pseudo elements extend to the viewport edges. This keeps
  the implementation simple and avoids introducing fixed stacking context
  changes which were causing visual regressions in some layouts. */

/* Global variable for the current sidenav width so full-bleed elements can
   offset themselves to the viewport edge. Keep a sensible default. */
:root {
  --sidenav-width: 280px;
  /* Fixed spacer/rail width used to keep the workspace from shifting when the
    sidebar (which is fixed-position) expands/collapses. This is the value
    headers must compensate for to truly reach the viewport edge. */
  --left-rail-width: 80px;
}

/* On mobile, the fixed sidebar becomes an overlay and we don't render the
   spacer rail. Zero-out the rail width so full-bleed headers align correctly. */
@media (max-width: 1023.98px) {
  .workspace-main { --left-rail-width: 0px; }
}

/* Sidebar → workspace width signal via data attribute on the app shell.
  The sidebar component toggles data-sidenav on .app-shell so we can
  expose the correct --sidenav-width where headers live. */
.app-shell[data-sidenav='collapsed'] .workspace { --sidenav-width: 80px; }
.app-shell[data-sidenav='expanded'] .workspace { --sidenav-width: 280px; }

/* When the sidenav is collapsed, update the variable on the workspace so
   full-bleed headers shift correctly (sidenav and workspace are siblings). */
.sidenav.collapsed ~ .workspace {
  --sidenav-width: 80px;
}

/* Allow a section to visually rise into the workspace top edge (cancels main padding) */
/* When a section wants to visually rise into the workspace top edge,
   use the workspace's top padding variable for perfect alignment. */
.bleed-top { margin-top: var(--bleed-top, calc(-1 * var(--workspace-top-pad, 1.75rem))); }

/* Smooth bottom fade so there is no hard line where the header ends */
.header-fade-bottom::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -1px;
  height: var(--header-fade-h, 56px);
  pointer-events: none;
  background: linear-gradient(
    180deg,
    rgba(16,16,16,0) 0%,
    color-mix(in srgb, var(--surface-0, #101010) 60%, transparent) 60%,
    var(--surface-0, #101010) 100%
  );
}

/* Icon Hover Glow - neon glow around small icon buttons */
.icon-btn-sm:hover, .icon-btn:hover { box-shadow: none !important; transform: none !important; }

/* Animated Border Sweep for primary CTA */
.glow-cta { position: relative; overflow: hidden; }
.glow-cta::before {
  content: "";
  position: absolute;
  left: -120%; top: -2%; bottom: -2%; width: 40%;
  background: linear-gradient(90deg, rgba(255,255,255,0.04) 0%, color-mix(in srgb, var(--accent-active) 30%, rgba(255,255,255,0.06)) 50%, rgba(255,255,255,0.02) 100%);
  transform: skewX(-18deg);
  transition: transform .6s ease, opacity .6s ease;
  opacity: 0;
  pointer-events: none;
}
.glow-cta:hover::before { transform: translateX(320%) skewX(-18deg); opacity: 1; }

/* Optional pulsing glow for attention (not enabled by default). Use .glow-pulse to enable */
.glow-pulse { box-shadow: 0 6px 22px color-mix(in srgb, var(--accent-active) 16%, transparent 84%); animation: pulseGlow 2.8s infinite ease-in-out; }
@keyframes pulseGlow {
  0% { box-shadow: 0 6px 16px color-mix(in srgb, var(--accent-active) 8%, transparent 92%); }
  50% { box-shadow: 0 12px 36px color-mix(in srgb, var(--accent-active) 18%, transparent 82%); }
  100% { box-shadow: 0 6px 16px color-mix(in srgb, var(--accent-active) 8%, transparent 92%); }
}

/* Pulsing Aura for Create Button */
.animate-pulse-aura {
  position: relative;
  overflow: visible;
}

.animate-pulse-aura::before {
  content: '';
  position: absolute;
  inset: -8px;
  border-radius: 12px;
  background: linear-gradient(45deg, rgba(34, 211, 238, 0.4), rgba(6, 182, 212, 0.6), rgba(34, 211, 238, 0.4));
  opacity: 0;
  animation: pulsingAura 2s ease-in-out infinite;
  z-index: -1;
  filter: blur(8px);
}

.animate-pulse-aura::after {
  content: '';
  position: absolute;
  inset: -12px;
  border-radius: 16px;
  background: linear-gradient(45deg, rgba(34, 211, 238, 0.2), rgba(6, 182, 212, 0.3), rgba(34, 211, 238, 0.2));
  opacity: 0;
  animation: pulsingAura 2s ease-in-out infinite;
  animation-delay: 0.5s;
  z-index: -2;
  filter: blur(12px);
}

@keyframes pulsingAura {
  0% { 
    opacity: 0;
    transform: scale(0.95);
  }
  50% { 
    opacity: 1;
    transform: scale(1.05);
  }
  100% { 
    opacity: 0;
    transform: scale(0.95);
  }
}

/* Intense Neon Blue Glass Aura Effect - Exact Reference Match */
.neon-blue-glass-aura {
  position: relative;
  background: radial-gradient(ellipse at center, rgba(0, 123, 255, 0.2), rgba(0, 50, 100, 0.3), rgba(0, 0, 0, 0.6));
  border: 2px solid #22d3ee;
  backdrop-filter: blur(15px) saturate(180%);
  box-shadow: 
    /* Inner glass highlight */
    inset 0 2px 0 rgba(255, 255, 255, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    /* Main neon glow */
    0 0 20px rgba(34, 211, 238, 0.8),
    0 0 40px rgba(34, 211, 238, 0.6),
    0 0 80px rgba(34, 211, 238, 0.4),
    /* Outer atmospheric glow */
    0 0 120px rgba(34, 211, 238, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  text-shadow: 0 0 10px rgba(34, 211, 238, 0.8);
}

.neon-blue-glass-aura:hover {
  background: radial-gradient(ellipse at center, rgba(0, 123, 255, 0.3), rgba(0, 80, 150, 0.4), rgba(0, 20, 40, 0.5));
  border-color: #00d4ff;
  box-shadow: 
    /* Enhanced inner glass */
    inset 0 2px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    /* Intensified neon glow */
    0 0 30px rgba(0, 212, 255, 1),
    0 0 60px rgba(34, 211, 238, 0.8),
    0 0 100px rgba(34, 211, 238, 0.6),
    0 0 160px rgba(34, 211, 238, 0.4),
    0 0 200px rgba(34, 211, 238, 0.2);
  transform: translateY(-2px) scale(1.02);
  text-shadow: 0 0 15px rgba(255, 255, 255, 0.9), 0 0 25px rgba(34, 211, 238, 1);
}

.neon-blue-glass-aura:active {
  transform: translateY(-1px) scale(1.01);
  box-shadow: 
    inset 0 2px 0 rgba(255, 255, 255, 0.2),
    0 0 15px rgba(34, 211, 238, 0.9),
    0 0 30px rgba(34, 211, 238, 0.7),
    0 0 60px rgba(34, 211, 238, 0.5);
}

/* Animated neon pulse for extra intensity */
@keyframes neonPulse {
  0%, 100% { 
    box-shadow: 
      inset 0 2px 0 rgba(255, 255, 255, 0.3),
      0 0 20px rgba(34, 211, 238, 0.8),
      0 0 40px rgba(34, 211, 238, 0.6),
      0 0 80px rgba(34, 211, 238, 0.4);
  }
  50% { 
    box-shadow: 
      inset 0 2px 0 rgba(255, 255, 255, 0.4),
      0 0 25px rgba(34, 211, 238, 1),
      0 0 50px rgba(34, 211, 238, 0.8),
      0 0 100px rgba(34, 211, 238, 0.6);
  }
}

.neon-blue-glass-aura.pulse {
  animation: neonPulse 2s ease-in-out infinite;
}

/* Secondary Glass Effect for Supporting Buttons (Zinc Theme) */
.glass-secondary {
  position: relative;
  background: radial-gradient(ellipse at center, rgba(113, 113, 122, 0.15), rgba(63, 63, 70, 0.25), rgba(0, 0, 0, 0.5));
  border: 2px solid rgba(113, 113, 122, 0.6);
  backdrop-filter: blur(15px) saturate(150%);
  box-shadow: 
    /* Inner glass highlight */
    inset 0 2px 0 rgba(255, 255, 255, 0.25),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    /* Subtle glow */
    0 0 15px rgba(113, 113, 122, 0.5),
    0 0 30px rgba(113, 113, 122, 0.3);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  text-shadow: 0 0 6px rgba(113, 113, 122, 0.6);
}

.glass-secondary:hover {
  background: radial-gradient(ellipse at center, rgba(113, 113, 122, 0.25), rgba(82, 82, 91, 0.35), rgba(24, 24, 27, 0.4));
  border-color: rgba(161, 161, 170, 0.8);
  box-shadow: 
    /* Enhanced inner glass */
    inset 0 2px 0 rgba(255, 255, 255, 0.35),
    inset 0 -1px 0 rgba(0, 0, 0, 0.25),
    /* Enhanced glow */
    0 0 20px rgba(161, 161, 170, 0.7),
    0 0 40px rgba(113, 113, 122, 0.5),
    0 0 70px rgba(113, 113, 122, 0.3);
  transform: translateY(-1px) scale(1.01);
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.7), 0 0 15px rgba(161, 161, 170, 0.8);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .glow-cta::before, .glow-pulse { transition: none !important; animation: none !important; }
  .animate-pulse-aura::before, .animate-pulse-aura::after { animation: none !important; opacity: 0.3 !important; }
  .glass-fx-neon-blue::before { transition: none !important; }
  .glass-fx-neon-blue:hover { transform: none !important; }
  .table-modern tbody tr:hover { transform: none; box-shadow: 0 4px 12px color-mix(in srgb, var(--accent-active) 4%, transparent 96%); }
  .icon-btn-sm:hover, .icon-btn:hover { transform: none; }
}

/* modal-green-glow removed — neon rim not desired */

/* Form primitives */
.section-title {
  font-size: 12px;
  font-weight: 700;
  letter-spacing: .4px;
  text-transform: none;
  color: var(--text-1);
}
.section-subtle {
  font-size: 11px;
  color: var(--text-2);
  opacity: .85;
}
.field-label { font-size: 12px; color: var(--text-2); }
.field-help { font-size: 11px; color: var(--text-2); opacity: .8; }
.input,
.select,
.textarea {
  background: var(--surface-1);
  color: var(--text-1);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: .5rem;
  padding: .5rem .75rem;
}
.input:hover, .select:hover, .textarea:hover { background: color-mix(in srgb, var(--surface-1) 92%, #fff 8%); }
.input:focus, .select:focus, .textarea:focus { outline: none; border-color: var(--accent-active); box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent-active) 26%, transparent); }

/* Toolbar + buttons */
.toolbar { display:flex; align-items:center; gap:.5rem; }
.btn-pill {
  display:inline-flex; align-items:center; justify-content:center;
  padding: .55rem .9rem; font-weight: 700; font-size: 13px;
  border-radius: 9999px; border: 1px solid transparent; cursor: pointer;
  transition: transform .08s ease, background .12s ease, border-color .12s ease, filter .12s ease;
}
.btn-pill:active { transform: translateY(0); }
.btn-primary { background: color-mix(in srgb, var(--accent-active) 85%, #111 15%); color: #0b0b0b; box-shadow: none; border-color: rgba(255,255,255,0.12); }
.btn-primary:hover { filter: brightness(0.98); }
.btn-ghost { background: transparent; color: var(--text-1); border-color: rgba(255,255,255,0.14); }
.btn-ghost:hover { background: rgba(255,255,255,0.04); }
.btn-outline { background: transparent; color: var(--text-1); border-color: rgba(255,255,255,0.14); }
.btn-outline:hover { background: rgba(255,255,255,0.04); border-color: rgba(255,255,255,0.24); }
/* even lighter option */
.btn-minimal { background: transparent; color: var(--text-1); border-color: rgba(255,255,255,0.10); font-weight:600; }
.btn-minimal:hover { background: rgba(255,255,255,0.04); }

/* Search input variant */
.input-search { padding-top:.5rem; padding-bottom:.5rem; border-radius: 9999px; }

/* Remove focus glow for search inputs specifically so they don't show a bright ring */
.input-search:focus, .input-search:focus-visible {
  outline: none;
  box-shadow: none !important;
  /* keep a subtle neutral border on focus */
  border-color: rgba(255,255,255,0.06) !important;
}

/* Table: modern look */
.table-modern { width: 100%; border-collapse: separate; border-spacing: 0; font-variant-numeric: tabular-nums; }
.table-modern thead th {
  position: sticky; top: 0; z-index: 1;
  background: color-mix(in srgb, var(--surface-2) 85%, #000 15%);
  backdrop-filter: blur(4px);
  font-weight: 600; font-size: 12px; letter-spacing: .2px; text-transform: none;
  color: var(--text-2);
}
.table-modern thead th:first-child { border-top-left-radius: 12px; }
.table-modern thead th:last-child { border-top-right-radius: 12px; }
.table-modern tbody tr { transition: background-color .15s ease, transform .08s ease; }
.table-modern tbody tr:nth-child(even) { background: rgba(255,255,255,0.01); }
.table-modern tbody tr:hover { background: rgba(255,255,255,0.03); }
.table-modern td, .table-modern th { padding: .65rem .75rem; border-bottom: 1px solid var(--border-subtle); }

/* sticky first column for better scanability */
.table-modern thead th:first-child,
.table-modern tbody td:first-child { position: sticky; left: 0; z-index: 1; background: color-mix(in srgb, var(--surface-2) 90%, #000 10%); }
.table-modern tbody td:first-child::after { content: ''; position: absolute; right: -1px; top: 0; bottom: 0; width: 1px; background: var(--border-subtle); opacity: .7; }

/* column helpers */
.cell-num { text-align: right; color: var(--text-1); white-space: nowrap; }
.cell-date { white-space: nowrap; color: var(--text-2); }
.cell-actions { text-align: right; }
.cell-client { font-weight: 600; }
.cell-tags { max-width: 280px; }

.th-sortable { cursor: pointer; user-select: none; }
.th-sortable .caret { margin-left: .35rem; opacity: .5; transition: transform .12s, opacity .12s; }
.th-sortable.active { color: var(--text-1); }
.th-sortable.active .caret { opacity: 1; }
.th-sortable.asc .caret { transform: rotate(180deg); }

.badge { display:inline-flex; align-items:center; gap:.25rem; padding:.15rem .45rem; border-radius:9999px; font-size:11px; font-weight:600; border: 1px solid rgba(255,255,255,0.08); transition: color .15s, border-color .15s; }
.badge-soft { background: var(--surface-3); color: var(--text-1); }
.badge-emerald { background: rgba(16,185,129,0.15); color: #34d399; }
.badge-muted { background: var(--surface-4); color: var(--text-2); }
.badge:hover { color: var(--accent-active); border-color: var(--accent-active); }

.avatar { width:24px; height:24px; border-radius:9999px; display:inline-grid; place-items:center; font-size:11px; font-weight:700; color:#000; background: var(--accent-active); }
.chip { cursor: pointer; user-select: none; border:1px solid rgba(255,255,255,0.08); background: rgba(255,255,255,0.04); border-radius:9999px; padding:.15rem .5rem; font-size:11px; color: var(--text-2); transition: background .12s, color .12s, transform .06s; }
.chip:hover { background: rgba(255,255,255,0.06); color: var(--text-1); transform: translateY(-1px); }
.chip:hover { transform: none !important; }
/* Selected tag state */
.chip.selected { background: color-mix(in srgb, var(--accent-active) 14%, transparent 86%); border-color: color-mix(in srgb, var(--accent-active) 30%, transparent 70%); color: var(--text-1); font-weight:700; }
/* focus behavior: only show visible ring for keyboard users */
.chip:focus { outline: none; }
.chip:focus-visible { box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-active) 20%, transparent); }

/* Icon buttons & popover */
.icon-btn-sm { width:28px; height:28px; border-radius:9999px; display:inline-grid; place-items:center; border:1px solid rgba(255,255,255,0.08); background: var(--surface-3); color: var(--text-1); }
.icon-btn-sm:hover { background: rgba(255,255,255,0.08); }
.popover { position:absolute; z-index:40; min-width: 200px; border:1px solid rgba(255,255,255,0.08); background: var(--surface-2); border-radius:12px; box-shadow: 0 16px 40px rgba(0,0,0,.35); overflow:hidden; max-width: 360px; max-height: 60vh; width: auto; box-sizing: border-box; }
.popover { overflow:auto; }
.popover, .popover * { min-width: 0; }
.popover { white-space: normal; word-break: break-word; }
.popover input, .popover .item { max-width: 100%; box-sizing: border-box; }
.popover .item { display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; cursor:pointer; }
.popover .item:hover { background: rgba(255,255,255,0.04); }

/* Global links / CTAs */
a { color: var(--accent-active); }
a:hover { text-decoration: underline; }

/* Hide developer focus vignette toggle chip if present in the UI.
   This keeps the underlying feature code intact but removes the control
   from the visible UI per product request. */
button.chip[title="Toggle focus vignette"],
.chip[title="Toggle focus vignette"] {
  display: none !important;
}

/* Confirmation Dialog Animations */
@keyframes slideDown {
  from {
    opacity: 0;
    max-height: 0;
  }
  to {
    opacity: 1;
    max-height: 200px;
  }
}

/* Custom Scrollbar Styles */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: #3f4144 #18181b;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: #18181b;
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: #3f4144;
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: #52525b;
}

.scrollbar-track-zinc-900::-webkit-scrollbar-track {
  background: #18181b;
}

.scrollbar-thumb-zinc-700::-webkit-scrollbar-thumb {
  background: #3f4144;
}

/* Module System Theming */
:root {
  /* Module theming */
  --module-accent: #3b82f6;
}

/* Module Theme Override */
body[data-module] {
  --accent: var(--module-accent);
}

/* Module glow effects */
.module-glow {
  position: relative;
}

.module-glow::before {
  content: '';
  position: absolute;
  inset: -4px;
  background: linear-gradient(45deg, var(--module-accent)20, var(--module-accent)40, var(--module-accent)20);
  border-radius: inherit;
  opacity: 0.1;
  pointer-events: none;
  z-index: -1;
}

/* Prevent flicker and improve performance */
.transform-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform;
}

/* Smooth transitions for KPI cards */
.kpi-card-button {
  transform-origin: center center;
  backface-visibility: hidden;
}

/* Ensure proper layering for glow effects */
.glow-shadow {
  isolation: isolate;
}
