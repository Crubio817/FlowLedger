import{c as l,u as o,r as j,j as t}from"./index-DThqOREw.js";import{P as g}from"./PageHeader-NI7vM_8y.js";/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=l("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=l("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=l("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=l("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),w=()=>({auditId:101,suppliers:[],inputs:[],process:[],outputs:[],customers:[],updatedUtc:new Date().toISOString()}),z=()=>{const d=o(e=>e.sipoc),u=o(e=>e.saveSipoc),c=o(e=>e.sipocVersion),x=o(e=>e.setSipocVersion),[r,i]=j.useState(d??w()),m=(e,s)=>{i(a=>({...a,[e]:[...a[e],s]}))},b=(e,s)=>{i(a=>({...a,[e]:a[e].filter((n,p)=>p!==s)}))},f=e=>{var a;const s=(a=e.target.files)==null?void 0:a[0];s&&s.text().then(n=>{try{const p=JSON.parse(n);i(p)}catch{}})},h=()=>{const e=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(e),s.download=`sipoc-${c}.json`,s.click()},y=async()=>{await u(r)};return t.jsxs("div",{children:[t.jsx(g,{title:"SIPOC Builder",subtitle:"Capture your process context across suppliers, inputs, process steps, outputs, and customers.",actions:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:y,className:"px-3 py-2 bg-brand-mint text-brand-blue-900 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(k,{size:14}),"Save"]}),t.jsxs("button",{onClick:h,className:"px-3 py-2 bg-brand-blue-800 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(v,{size:14}),"Export"]}),t.jsxs("label",{className:"px-3 py-2 bg-brand-blue-800 rounded-full text-xs font-medium flex items-center gap-1 cursor-pointer",children:[t.jsx(S,{size:14}),"Import",t.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:f})]}),t.jsxs("button",{onClick:()=>x(c==="current"?"future":"current"),className:"px-3 py-2 bg-brand-blue-800 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(N,{size:14}),c==="current"?"Future":"Current"]})]})}),t.jsx("div",{className:"grid md:grid-cols-5 gap-4",children:["suppliers","inputs","process","outputs","customers"].map(e=>t.jsxs("div",{className:"bg-brand-blue-800 rounded-2xl p-4 flex flex-col min-h-[280px]",children:[t.jsx("h3",{className:"text-sm font-medium capitalize mb-2",children:e}),t.jsxs("ul",{className:"flex-1 space-y-2 text-sm",children:[r[e].map((s,a)=>t.jsxs("li",{className:"flex items-center justify-between bg-brand-blue-900/60 px-2 py-1 rounded",children:[t.jsx("span",{className:"truncate",children:s}),t.jsx("button",{onClick:()=>b(e,a),className:"text-xs text-slate-500 hover:text-red-400",children:"âœ•"})]},a)),r[e].length===0&&t.jsx("li",{className:"text-xs text-slate-600",children:"Empty"})]}),t.jsxs("form",{onSubmit:s=>{s.preventDefault();const n=new FormData(s.currentTarget).get("val").trim();n&&(m(e,n),s.currentTarget.reset())},className:"mt-2 flex gap-1",children:[t.jsx("input",{name:"val",className:"flex-1 bg-brand-blue-900/40 border border-slate-700 rounded px-2 py-1 text-xs focus-ring",placeholder:"Add"}),t.jsx("button",{className:"bg-brand-mint text-brand-blue-900 rounded px-2 text-xs font-medium",children:"+"})]})]},e))})]})};export{z as default};
